<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Decoupling Calculator</title>
    <!-- Include Normalize.css .. Normalize.css is a CSS file that helps standardize and normalize default styles across different web browsers. It's often used as a starting point in web development to ensure a more consistent rendering of web content. -->
    <link rel="stylesheet" href="../../rsc/Normalize.css">
    <link href="../../rsc/myDefaultStyle.css" rel="stylesheet" />
    <link href="../../rsc/myInputContainerStyle.css" rel="stylesheet" />
    <link href="./decoupling.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  </head>

<body>
    <!-- this section contains the Inputs -->
    <div class="input-container" style="display: flex; align-items: center;">
        <p style="font-size: 1rem; font-weight: bold; text-indent: 0%; margin: 0%; width: 25%;">Market Value $:</p>
        <input type="range" id="js-mv-range" value="1500000" min="0" max="5000000" step="50000" style="max-width: 40%;">
        <input type="number" id="js-mv-input" value="1500000" min="0" max="5000000" step="5000" style="width: 30%; font-size: 1rem; left: 5%;">
    </div>
    <br>
    <div class="input-container" style="display: flex; align-items: center;">
        <p style="font-size: 1rem; font-weight: bold; text-indent: 0%; margin: 0%; width: 25%">Share of LP %: </p>
        <input type="range" id="js-lpsharepc-range" value="50" min="1" max="99" step="1" style="max-width: 40%;"></input>
        <input type="number" id="js-lpsharepc-input" value="50" min="1" max="99" step="1" style="width: 30%; font-size: 1rem; left: 5%;"></input>
    </div>
    <br>
    <div class="input-container" style="display: flex; align-items: center;">
        <p style="font-size: 1rem; font-weight: bold; text-indent: 0%; margin: 0%; width: 25%">O/Loan $: </p>
        <input type="range" id="js-ol-range" value="200000" min="0" max="1000000" step="10000" style="max-width: 40%;"></input>
        <input type="number" id="js-ol-input" value="200000" min="0" max="1000000" step="5000" style="width: 30%; font-size: 1rem; left: 5%;"></input>
    </div>
    <br>
    <div class="container" style="height: fit-content;">  <!-- left and right panels -->
        <div class="left-panel">
            <h3 style="margin: 10px;font-size:1rem">Leaving Party</h3>
            <div style="font-size:1rem">
                <div style="display: flex; padding-top: 10px; ">
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%;">Share V: </p>
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%; display: flex; justify-content: right;" id="output-lpsharesvalue">750000</p>
                </div>
                <!-- below is a dummy block to take up exactly the same space correponding to the right panel -->
                <div class="input-container" style="padding-top: 20px; align-items: center; visibility:hidden;">
                    <p style="width: 45%; padding: 0px; margin: 0px; text-indent: 0%;">LTV%: </p>
                    <input style="width: 30%;" type="range" id="js-spltvxx-range" value="75" min="0" max="100" step="5">
                    <input style="width: 30%; font-size: 1rem;" type="number" id="js-spltvxx-input" value="75" min="0" max="100" step="1">
                </div>
                <!-- end dummy block -->
                <div style="display: flex; padding-top: 10px; align-items: center; ">
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%;">Loan Settlemt: </p>
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%; display: flex; justify-content: right;" id="output-lploansettlement">-100000</p>
                </div>
                <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                    <p style="width: 35%; padding: 0px; margin: 0px;text-indent: 0%;">CPF Owed: </p>
                    <input style="width: 55%; font-size: 1rem;" type="number" id="js-lpcpfowed-input" value="-50000" min="-500000" max="0" step="1000"></input>
                </div>
                <div class="input-container" style="padding-top: 10px; display: flex;">
                    <input style="width: 90%;" type="range" id="js-lpcpfowed-range" value="-50000" min="-500000" max="0" step="10000"></input>
                </div>
                <!-- below is a dummy block to take up exactly the same space correponding to the right panel -->
                <div class="input-container" style="padding-top: 10px; display: flex; align-items: center; visibility:hidden;">
                    <p style="width: 55%; padding: 0px; margin: 0px;text-indent: 0%;">CPF Usage: </p>
                    <input style="width: 27%; font-size: 1rem;" type="number" id="js-spcpfusedpcxx-input" value="20" min="0" max="100" step="1"></input>%
                </div>
                <div class="input-container" style="padding-top: 10px; display: flex; visibility:hidden;">
                    <input style="width: 90%;" type="range" id="js-spcpfusedpcxx-range" value="20" min="0" max="100" step="1"></input>
                </div>
                <div style="display: flex; align-items: center; visibility:hidden;">
                    <p style="width: 50%; padding: 0px; margin-top: 20px;text-indent: 0%;">CPF Used: </p>
                    <p  style="width: 40%; padding: 0px; margin: 0px; display: flex; justify-content: right" id="output-cpfusedxx">150000</p>
                </div>
                <div style="text-indent: 10px; font-family:'Arial Narrow'; font-size: 1rem; visibility:hidden;" id="output-errormsgxx">Enough CPF</div>
                <!-- end dummy block -->
                <br>
                <div style="display: flex; align-items: center;">
                    <p style="width: 45%; padding: 0px; margin-top: 20px;text-indent: 0%;">Cash Balance: </p>
                    <p style="width: 45%; padding: 0px; margin-top: 20px;text-indent: 0%; display: flex; justify-content: right" id="output-lpcashbalance">600000</p>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <h3 style="margin: 10px;font-size:1rem">Staying Party</h3>
            <div style="font-size:1rem">
                <div style="display: flex; padding-top: 10px; ">
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%;">Share V: </p>
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%; display: flex; justify-content: right;" id="output-spsharesvalue">-750000</p>
                </div>
                <div class="input-container" style="padding-top: 20px; align-items: center; ">
                    <p style="width: 23%; padding: 0px; margin: 0px;text-indent: 0%;">LTV: </p>
                    <input style="width: 39%;" type="range" id="js-spltv-range" value="75" min="0" max="100" step="5"></input>
                    <input style="width: 27%; font-size: 1rem;" type="number" id="js-spltv-input" value="75" min="0" max="100" step="1"></input>%
                </div>
                <div style="display: flex; padding-top: 10px; align-items: center; ">
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%;">Loan Settlemt: </p>
                    <p style="width: 45%; padding: 0px; margin: 0px;text-indent: 0%; display: flex; justify-content: right;" id="output-sploansettlement">562500</p>
                </div>
                <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                    <p style="width: 35%; padding: 0px; margin: 0px;text-indent: 0%;">CPF Avail.: </p>
                    <input style="width: 55%; font-size: 1rem;" type="number" id="js-spcpfavail-input" value="150000" min="0" max="500000" step="10000"></input>
                </div>
                <div class="input-container" style="padding-top: 10px; display: flex;">
                    <input style="width: 90%;" type="range" id="js-spcpfavail-range" value="150000" min="0" max="500000" step="10000"></input>
                </div>
                <br>
                <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                    <p style="width: 55%; padding: 0px; margin: 0px;text-indent: 0%;">CPF Usage: </p>
                    <input style="width: 27%; font-size: 1rem;" type="number" id="js-spcpfusedpc-input" value="20" min="0" max="100" step="1"></input>%
                </div>
                <div class="input-container" style="padding-top: 10px; display: flex;">
                    <input style="width: 90%;" type="range" id="js-spcpfusedpc-range" value="20" min="0" max="100" step="1"></input>
                </div>
                <div style="display: flex; align-items: center;">
                    <p style="width: 50%; padding: 0px; margin-top: 20px;text-indent: 0%;">CPF Used: </p>
                    <!-- <p  style="padding: 0px; margin: 0px;" id="output-cpfusedpc">20</p>
                    <p style="padding: 0px; margin: 0px;">%]: </p> -->
                    <p  style="width: 40%; padding: 0px; margin: 0px; display: flex; justify-content: right" id="output-cpfused">150000</p>
                </div>
                <div style="text-indent: 10px; font-family:'Arial Narrow'; font-size: 1rem;" id="output-errormsg">Enough CPF</div>
                <div style="display: flex; align-items: center;">
                    <p style="width: 45%; padding: 0px; margin-top: 20px;text-indent: 0%;">Cash Balance: </p>
                    <p style="width: 45%; padding: 0px; margin-top: 20px;text-indent: 0%; display: flex; justify-content: right" id="output-spcashbalance">-37500</p>
                </div>
            </div>
            <div class="output-container" style="font-size: 1rem;">
                <select id="NumProperties">
                    <option value=1>1</option>
                    <option value=2>2</option>
                    <option value=3>=>3</option>
                </select>
                <select id="Citizenship">
                    <option value="Singaporean">SC</option>
                    <option value="SPR">SPR</option>
                    <option value="Foreigner">FOR</option>
                </select>
                <div style="display: flex; font-size: 0.9rem;">
                    <p style="width: 33%;margin: 0%; text-indent: 0%;">BSD </p>
                    <p id="textbsdpc" style="width: 17%; margin: 0%; text-indent: 0%;"></p>%; 
                    <p id="textbsd" style="width: 40%;margin: 0%; text-indent: 0%; display: flex; justify-content: right"></p>
                </div>
                <div style="display: flex; font-size: 0.9rem;">
                    <p style="width: 33%;margin: 0%; text-indent: 0%;">ABSD </p>
                    <p id="textabsdpc" style="width: 17%;margin: 0%; text-indent: 0%;"></p>%;
                    <p id="textabsd" style="width: 40%;margin: 0%; text-indent: 0%; display: flex; justify-content: right"></p>
                </div>
                <div style="display: flex; font-size: 0.9rem; display: flex; align-items: center;">
                    <p style="width: 33%;margin: 0%; text-indent: 0%;">Tot.SD </p>
                    <p id="texttotaldutypc" style="width: 17%;margin: 0%; text-indent: 0%;"></p>%; 
                    <p id="texttotalduty" style="width: 40%;margin: 0%; text-indent: 0%;display: flex; justify-content: right"></p>
                </div>
            </div>
        </div>


    </div>
    <!-- this section contains the Overall CashBalance Outputs -->
    <div style="height: auto; width: auto; background: linear-gradient(to bottom, rgba(154, 186, 228, 0.7), rgba(98, 103, 238, 0.7)); padding-top: 5px; padding-left: 5px; padding-right: 5px">
        <div style="display: flex; align-items: center;">
        <div style="padding: 10px;">
            <div style="display: inline-block; align-items: left;">
                <p style="left: 0%; width: 130%; margin: 0%; text-indent: 0%; font-size: 1.1rem;">Overall Cash Balance = </p>
                <p style="left: 0%; width: 130%; margin: 0%; text-indent: 1%; font-size: 1.1rem;"> LP Cash Balance $<span id="output-lpcashbalance1">600000</span> + </p>
                <p style="left: 0%; width: 130%; margin: 0%; text-indent: 1%; font-size: 1.1rem;"> SP Cash Balance $<span id="output-spcashbalance1">-37500</span> - </p>
                <p style="left: 0%; width: 130%; margin: 0%; text-indent: 1%; font-size: 1.1rem;"> Stamp Duty $<span id="texttotalduty1">17100</span> - Legal $6000 = </p>
                <p style="left: 0%; width: 130%; margin: 0%; text-indent: 1%; font-size: 1.1rem;"> $<span id="output-overallcashbalance">539400</span></p>
              </div>
        </div>
        </div>
    </div>
    <!-- this section contains the New Debt Positions Outputs -->
    <div class="input-container">
        <div class="left-panel"  style="font-size:1rem">
            <br>
            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 35%; padding: 0px; margin: 0px;text-indent: 0%;">Prop.$: </p>
                <input style="width: 55%; font-size: 1rem;" type="number" id="js-propertyprice-input" value="1000000" min="0" max="6000000" step="10000"></input>
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-propertyprice-range" value="1000000" min="0" max="6000000" step="20000"></input>
            </div>

            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 50%; padding: 0px; margin: 0px;text-indent: 0%;">LTV: </p>
                <input style="width: 30%; font-size: 1rem;" type="number" id="js-ltv-input" value="75" min="0" max="100" step="1" step="10000"></input>%
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-ltv-range" value="75" min="0" max="100" step="5"></input>
            </div>

            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 35%; padding: 0px; margin: 0px;text-indent: 0%;">Loan$: </p>
                <input style="width: 55%; font-size: 1rem;" type="number" id="js-loanamount-input" value="750000" min="0" max="5000000" step="10000"></input>
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-loanamount-range" value="750000" min="0" max="5000000" step="20000"></input>
            </div>

            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 55%; padding: 0px; margin: 0px;text-indent: 0%;">Interest:</p>
                <input style="width: 30%; font-size: 1rem;" type="number" id="js-ir-input" value="5" min="0" max="20" step="0.5"></input>%/yr
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-ir-range" value="5" min="0" max="20" step="1"></input>
            </div>

            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 55%; padding: 0px; margin: 0px;text-indent: 0%;">Tenure, yr: </p>
                <input style="width: 35%; font-size: 1rem;" type="number" id="js-tenure-input" value="20" min="0" max="30" step="1"></input>
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-tenure-range" value="20" min="0" max="30" step="1"></input>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div> New Property Monthly Mortgage $ <span id="textmonthlymortgage"> 4950</span></div>
        </div>

        <div class="right-panel"  style="font-size:1rem">
            <div> <p style="text-indent: 0%;">Current loan $ <span id="textspcurrentloan">100000</span></p></div>
            <div class="input-container" style="padding-top: 20px; display: inline;">
                <p style="text-indent: 0%;margin: 0%;">i) Find out current loan repayment $ </p>
                <input style="width: 60%; font-size: 1rem;margin: 0%;" type="number" id="js-spcurrentmortgage-input" value="633" min="0" max="10000" step="1"></input>
            </div>
            <div style="text-indent: 10px; font-family:'Arial Narrow'; font-size: 1rem;">Use below tool to help work it out. Loan tenure for this refinancing portion is lower of (75-age) or (35- years loan started). Set LTV to 100%. </div>
            <br>
            <div> <p style="text-indent: 0%;margin: 0%;">ii) Find out added loan repayment $ </p></div>

            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 35%; padding: 0px; margin: 0px;text-indent: 0%;">Loan$: </p>
                <input style="width: 55%; font-size: 1rem;" type="number" id="js-extraloan-input" value="562500" min="0" max="5000000" step="10000"></input>
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-extraloan-range" value="562500" min="0" max="5000000" step="20000"></input>
            </div>

            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 55%; padding: 0px; margin: 0px;text-indent: 0%;">Interest:</p>
                <input style="width: 30%; font-size: 1rem;" type="number" id="js-spir-input" value="5" min="0" max="20" step="0.5"></input>%/yr
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-spir-range" value="5" min="0" max="20" step="1"></input>
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex; align-items: center;">
                <p style="width: 55%; padding: 0px; margin: 0px;text-indent: 0%;">Tenure, yr: </p>
                <input style="width: 35%; font-size: 1rem;" type="number" id="js-sptenure-input" value="20" min="0" max="30" step="1"></input>
            </div>
            <div class="input-container" style="padding-top: 10px; display: flex;">
                <input style="width: 90%;" type="range" id="js-sptenure-range" value="20" min="0" max="30" step="1"></input>
            </div>
            <br>
            <div> Added Monthly Mortgage $ <span id="textspaddedmonthlymortgage"> 2501</span></div>
            <div style="margin-top: 20px;"> Total Monthly Mortgage $ <span id="textsptotalmonthlymortgage"> 3134</span></div>
            <br>
        </div>
    </div>

</body>
<script src="./decoupling.js" ></script>
</html>

